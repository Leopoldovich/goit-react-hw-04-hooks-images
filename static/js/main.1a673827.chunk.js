(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={container:"Searchbar_container__3RVJe",form:"Searchbar_form__3VNO-",input:"Searchbar_input__1MJzR",button:"Searchbar_button__33CxS"}},29:function(e,t,a){e.exports={imageItem:"ImageGalleryItem_imageItem__7Hq3x",image:"ImageGalleryItem_image__3prD6"}},30:function(e,t,a){e.exports={button:"Button_button__3DcVk"}},31:function(e,t,a){e.exports={overlay:"Modal_overlay__3yGta",modal:"Modal_modal__1Yx-r"}},44:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3L2lg"}},52:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(12),r=a.n(o),s=(a(52),a(53),a(16)),i=(a(54),a(8)),u=a(5),l=a(42),m=a.n(l),b=function(e,t,a){var n="".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(a,"&page=").concat(e,"&per_page=").concat(t,"&key=").concat("23908386-2e3165467d660ea2c64c020be");return m.a.get(n).then((function(e){return 200===e.status&&0!==e.data.hits.length?e.data:null}))},j=a(43),f=a.n(j),g=a(13),d=a.n(g),O=a(1);var h=function(e){var t=e.onSetQuery,a=Object(n.useState)(""),c=Object(u.a)(a,2),o=c[0],r=c[1];return Object(O.jsx)("header",{className:d.a.container,children:Object(O.jsxs)("form",{className:d.a.form,onSubmit:function(e){e.preventDefault();var a=o.trim();a&&t(a)},children:[Object(O.jsx)("button",{type:"submit",className:d.a.button,children:Object(O.jsx)(f.a,{className:d.a.icon,style:{width:"90%",height:"90%",fill:"blue"}})}),Object(O.jsx)("input",{className:d.a.input,value:o,type:"text",name:"search",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){r(e.target.value)}})]})})},p=a(44),x=a.n(p),v=a(29),_=a.n(v);var y=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,c=e.myRef,o=void 0===c?null:c,r=e.onClickImg;return Object(O.jsx)("li",{className:_.a.imageItem,ref:o,onClick:function(e){r(e.target)},children:Object(O.jsx)("img",{src:t,"data-src":a,className:_.a.image,alt:n})})};function k(e){var t=e.itemsImg,a=e.myRef,n=e.onClickImg;return Object(O.jsx)("ul",{className:x.a.imageGallery,children:t&&t.map((function(e,t,c){return Object(O.jsx)(y,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,myRef:t===c.length-12?a:null,onClickImg:n},e.id)}))})}var S=a(30),I=a.n(S);var w,N=function(e){var t=e.onClickMore;return Object(O.jsx)("div",{className:I.a.blockMore,children:Object(O.jsx)("button",{type:"button",className:I.a.button,onClick:t,children:"Load more..."})})},C=a(45),R=a(11),L=a(46),M=a.n(L),G=Object(R.css)(w||(w=Object(C.a)(["\n  display: block;\n  margin: 10px auto;\n"])));var E=function(){return Object(O.jsx)(M.a,{color:"rgb(6, 255, 247)",loading:!0,css:G,size:50})},U=a(31),J=a.n(U),q=document.querySelector("#root-modal");function z(e){var t=e.item,a=e.onCloseModal,c=function(e){"Escape"===e.code&&a()};Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}),[]);var r=t.src,s=t.tags;return Object(o.createPortal)(Object(O.jsx)("div",{className:J.a.overlay,onClick:function(e){e.target===e.currentTarget&&a()},children:Object(O.jsx)("div",{className:J.a.modal,children:Object(O.jsx)("img",{src:r,alt:s})})}),q)}function D(){var e=Object(n.useRef)(null),t=Object(n.useState)(12),a=Object(u.a)(t,1)[0],c=Object(n.useState)(1),o=Object(u.a)(c,2),r=o[0],l=o[1],m=Object(n.useState)([]),j=Object(u.a)(m,2),f=j[0],g=j[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),x=p[0],v=p[1],_=Object(n.useState)(!1),y=Object(u.a)(_,2),S=y[0],I=y[1],w=Object(n.useState)(""),C=Object(u.a)(w,2),R=C[0],L=C[1],M=Object(n.useState)(null),G=Object(u.a)(M,2),U=G[0],J=G[1],q=function(){g([]),l(1),v(!0),I(!1)};return Object(n.useEffect)((function(){S&&R&&b(r,a,R).then((function(t){if(!t)return q(),void s.b.warn("No such results!");I(!1),g([].concat(Object(i.a)(f),Object(i.a)(t.hits))),v(r+1>=Math.trunc(t.totalHits/a)+1),e.current&&function(e){var t=e.current.offsetTop-80;window.scrollTo({top:t,behavior:"smooth"})}(e)})).catch((function(e){q(),s.b.error(e.message)}))}),[S,R,r,a,f]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h,{onSetQuery:function(e){g([]),l(1),L(e),I("true")}}),Object(O.jsx)(k,{itemsImg:f,myRef:e,onClickImg:function(e){J({src:e.dataset.src,tags:e.alt})}}),S&&Object(O.jsx)(E,{}),R&&!x&&!S&&Object(O.jsx)(N,{onClickMore:function(){l((function(e){return e+1})),I(!0)}}),U&&Object(O.jsx)(z,{item:U,onCloseModal:function(){J(null)}})]})}var T=function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(D,{}),Object(O.jsx)(s.a,{theme:"dark"})]})};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.1a673827.chunk.js.map